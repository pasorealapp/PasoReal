<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PasoReal - Camina el Mundo en 360¬∞</title>
  <link rel="stylesheet" href="styles.css">
  
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  
  <!-- iOS meta tags importantes -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">
</head>
<body>
  <!-- VIDEO FONDO LOGIN -->
  <video id="bgVideo" autoplay muted loop playsinline webkit-playsinline preload="auto"></video>

  <!-- LOGIN -->
  <div id="login" class="screen active">
    <div class="card">
      <h1>Iniciar sesi√≥n</h1>
      <p>Accede a tu experiencia PasoReal</p>
      <input type="email" placeholder="Correo">
      <input type="password" placeholder="Contrase√±a">
      <button class="primary">Entrar</button>
      <button class="link" id="recoverBtn">Recuperar contrase√±a</button>
      <br>
      <button class="link" id="goRegisterBtn">Crear cuenta</button>
    </div>
  </div>

  <!-- REGISTRO -->
  <div id="register" class="screen">
    <div class="card">
      <h1>Crear cuenta</h1>
      <p>Accede a PasoReal</p>
      <div class="row">
        <input type="text" placeholder="Nombre">
        <input type="text" placeholder="Apellido">
      </div>
      <input type="email" placeholder="Correo">
      <input type="password" placeholder="Contrase√±a">
      <input type="tel" placeholder="Tel√©fono (opcional)">
      <button class="primary">Crear cuenta</button>
      <button class="link" id="goLoginBtn">Ya tengo cuenta</button>
    </div>
  </div>
  
  <!-- RECUPERAR -->
  <div id="recover" class="screen">
    <div class="card">
      <h1>Recuperar contrase√±a</h1>
      <p>Ingresa tu correo o tel√©fono vinculado</p>
      <input type="text" placeholder="Correo o tel√©fono">
      <button class="primary">Enviar enlace</button>
      <button class="link" id="cancelRecoverBtn">Cancelar</button>
    </div>
  </div>

  <!-- INICIO -->
  <div id="home" class="screen">
    <div class="home-container">
      <span class="badge">Experiencia Premium</span>
      <h1>¬øD√≥nde quieres caminar hoy?</h1>
      <p>Elige una experiencia real</p>
      <div class="option-card primary-card">
        <strong>Elegir ruta</strong>
        <small>Explora destinos reales en 360¬∞</small>
      </div>
      <div class="option-card secondary-card">
        <strong>Ver historial</strong>
        <small>Tus caminatas anteriores</small>
      </div>
      <button class="logout-btn">Cerrar sesi√≥n</button>
      <footer>PasoReal ¬∑ Camina el mundo desde casa</footer>
    </div>
  </div>

  <!-- ESTADOS -->
  <div id="states" class="screen">
    <div class="home-container">
      <h1>Elige un estado</h1>
      <p>La Rep√∫blica Mexicana est√° formada por 32 estados. Elige uno para comenzar tu recorrido.</p>
      <div class="states-list">
        <div class="option-card primary-card">Aguascalientes</div>
        <div class="option-card primary-card">Baja California</div>
        <div class="option-card primary-card">Baja California Sur</div>
        <div class="option-card primary-card">Campeche</div>
        <div class="option-card primary-card">Chiapas</div>
        <div class="option-card primary-card">Chihuahua</div>
        <div class="option-card primary-card">Ciudad de M√©xico</div>
        <div class="option-card primary-card">Coahuila</div>
        <div class="option-card primary-card">Colima</div>
        <div class="option-card primary-card">Durango</div>
        <div class="option-card primary-card">Estado de M√©xico</div>
        <div class="option-card primary-card">Guanajuato</div>
        <div class="option-card primary-card">Guerrero</div>
        <div class="option-card primary-card">Hidalgo</div>
        <div class="option-card primary-card">Jalisco</div>
        <div class="option-card primary-card">Michoac√°n</div>
        <div class="option-card primary-card">Morelos</div>
        <div class="option-card primary-card">Nayarit</div>
        <div class="option-card primary-card">Nuevo Le√≥n</div>
        <div class="option-card primary-card">Oaxaca</div>
        <div class="option-card primary-card">Puebla</div>
        <div class="option-card primary-card">Quer√©taro</div>
        <div class="option-card primary-card">Quintana Roo</div>
        <div class="option-card primary-card">San Luis Potos√≠</div>
        <div class="option-card primary-card">Sinaloa</div>
        <div class="option-card primary-card">Sonora</div>
        <div class="option-card primary-card">Tabasco</div>
        <div class="option-card primary-card">Tamaulipas</div>
        <div class="option-card primary-card">Tlaxcala</div>
        <div class="option-card primary-card">Veracruz</div>
        <div class="option-card primary-card">Yucat√°n</div>
        <div class="option-card primary-card">Zacatecas</div>
      </div>
      <button class="link2" id="backHomeFromStates">Volver</button>
    </div>
  </div>

  <!-- AGUASCALIENTES -->
  <div id="aguascalientes" class="screen">
    <div class="home-container">
      <h1>Aguascalientes</h1>
      <p>El estado de Aguascalientes est√° formado por 11 municipios. Elige uno para continuar.</p>
      <div class="states-list">
        <div class="option-card primary-card">Aguascalientes</div>
        <div class="option-card primary-card">Asientos</div>
        <div class="option-card primary-card">Calvillo</div>
        <div class="option-card primary-card">Cos√≠o</div>
        <div class="option-card primary-card">Jes√∫s Mar√≠a</div>
        <div class="option-card primary-card">Pabell√≥n de Arteaga</div>
        <div class="option-card primary-card">Rinc√≥n de Romos</div>
        <div class="option-card primary-card">San Francisco de los Romo</div>
        <div class="option-card primary-card">San Jos√© de Gracia</div>
        <div class="option-card primary-card">Tepezal√°</div>
        <div class="option-card primary-card">El Llano</div>
      </div>
      <button class="link2" id="backToStatesFromAgs">Volver</button>
    </div>
  </div>

  <!-- BAJA CALIFORNIA -->
  <div id="bajaCalifornia" class="screen">
    <div class="home-container">
      <h1>Baja California</h1>
      <p>El estado de Baja California est√° formado por 7 municipios. Elige uno para continuar.</p>
      <div class="states-list">
        <div class="option-card primary-card">Ensenada</div>
        <div class="option-card primary-card">Mexicali</div>
        <div class="option-card primary-card">Tecate</div>
        <div class="option-card primary-card">Tijuana</div>
        <div class="option-card primary-card">Playas de Rosarito</div>
        <div class="option-card primary-card">San Quint√≠n</div>
        <div class="option-card primary-card">San Felipe</div>
      </div>
      <button class="link2" id="backToStatesFromBC">Volver</button>
    </div>
  </div>
  
  <!-- TIJUANA RUTAS -->
  <div id="tijuanaRutas" class="screen">
    <div class="home-container">
      <h1>Tijuana</h1>
      <p>Explora las rutas disponibles en Tijuana, Baja California.</p>
      <div class="states-list">
        <div class="option-card primary-card" id="goToTijuanaRevolucion">Av. Revoluci√≥n</div>
        <div class="option-card primary-card" id="goToTijuanaPlayas">Playas de Tijuana</div>
        <div class="option-card primary-card" id="goToTijuanaCentro">Centro de Tijuana</div>
      </div>
      <button class="link2" id="backToBCFromTijuana">Volver</button>
    </div>
  </div>

  <!-- MEXICALI RUTAS -->
  <div id="mexicaliRutas" class="screen">
    <div class="home-container">
      <h1>Mexicali</h1>
      <p>Explora las rutas disponibles en Mexicali, Baja California.</p>
      <div class="states-list">
        <div class="option-card primary-card">Centro de Mexicali</div>
        <div class="option-card primary-card">Zona R√≠o</div>
        <div class="option-card primary-card">Plaza La Cachanilla</div>
      </div>
      <button class="link2" id="backToBCFromMexicali">Volver</button>
    </div>
  </div>

  <!-- ENSENADA RUTAS -->
  <div id="ensenadaRutas" class="screen">
    <div class="home-container">
      <h1>Ensenada</h1>
      <p>Explora las rutas disponibles en Ensenada, Baja California.</p>
      <div class="states-list">
        <div class="option-card primary-card">Malec√≥n de Ensenada</div>
        <div class="option-card primary-card">Avenida L√≥pez Mateos</div>
        <div class="option-card primary-card">Plaza C√≠vica</div>
      </div>
      <button class="link2" id="backToBCFromEnsenada">Volver</button>
    </div>
  </div>

  <!-- TECATE RUTAS -->
  <div id="tecateRutas" class="screen">
    <div class="home-container">
      <h1>Tecate</h1>
      <p>Explora las rutas disponibles en Tecate, Baja California.</p>
      <div class="states-list">
        <div class="option-card primary-card">Centro Hist√≥rico</div>
        <div class="option-card primary-card">Cervecer√≠a Tecate</div>
        <div class="option-card primary-card">Parque Hidalgo</div>
      </div>
      <button class="link2" id="backToBCFromTecate">Volver</button>
    </div>
  </div>

  <!-- ROSARITO RUTAS -->
  <div id="rosaritoRutas" class="screen">
    <div class="home-container">
      <h1>Playas de Rosarito</h1>
      <p>Explora las rutas disponibles en Rosarito, Baja California.</p>
      <div class="states-list">
        <div class="option-card primary-card">Bulevar Benito Ju√°rez</div>
        <div class="option-card primary-card">Plaza del Mar</div>
        <div class="option-card primary-card">Playa de Rosarito</div>
      </div>
      <button class="link2" id="backToBCFromRosarito">Volver</button>
    </div>
  </div>

  <!-- SAN QUINT√çN RUTAS -->
  <div id="sanQuintinRutas" class="screen">
    <div class="home-container">
      <h1>San Quint√≠n</h1>
      <p>Explora las rutas disponibles en San Quint√≠n, Baja California.</p>
      <div class="states-list">
        <div class="option-card primary-card">Bah√≠a de San Quint√≠n</div>
        <div class="option-card primary-card">Campo agr√≠colas</div>
        <div class="option-card primary-card">Volc√°n el Socorro</div>
      </div>
      <button class="link2" id="backToBCFromSanQuintin">Volver</button>
    </div>
  </div>

  <!-- SAN FELIPE RUTAS -->
  <div id="sanFelipeRutas" class="screen">
    <div class="home-container">
      <h1>San Felipe</h1>
      <p>Explora las rutas disponibles en San Felipe, Baja California.</p>
      <div class="states-list">
        <div class="option-card primary-card">Malec√≥n de San Felipe</div>
        <div class="option-card primary-card">Zona Hotelera</div>
        <div class="option-card primary-card">Playa p√∫blica</div>
      </div>
      <button class="link2" id="backToBCFromSanFelipe">Volver</button>
    </div>
  </div>

  <!-- BAJA CALIFORNIA SUR -->
  <div id="bajaCaliforniaSur" class="screen">
    <div class="home-container">
      <h1>Baja California Sur</h1>
      <p>El estado de Baja California Sur est√° formado por 5 municipios. Elige uno para continuar.</p>
      <div class="states-list">
        <div class="option-card primary-card">La Paz</div>
        <div class="option-card primary-card">Los Cabos</div>
        <div class="option-card primary-card">Comond√∫</div>
        <div class="option-card primary-card">Loreto</div>
        <div class="option-card primary-card">Muleg√©</div>
      </div>
      <button class="link2" id="backToStatesFromBCS">Volver</button>
    </div>
  </div>

  <!-- LA PAZ - ZONAS -->
  <div id="laPazZonas" class="screen">
    <div class="home-container">
      <h1>La Paz</h1>
      <p>El municipio de La Paz incluye zonas urbanas y localidades con identidad propia. Elige d√≥nde deseas explorar.</p>
      <div class="states-list">
        <div class="option-card primary-card">La Paz (Ciudad)</div>
        <div class="option-card primary-card">Todos Santos</div>
      </div>
      <button class="link2" id="backToBCSFromLaPazZonas">Volver</button>
    </div>
  </div>

  <!-- RUTAS - LA PAZ CIUDAD -->
  <div id="laPazCiudadRutas" class="screen">
    <div class="home-container">
      <h1>La Paz</h1>
      <p>La Paz es la capital de Baja California Sur, reconocida por su malec√≥n, playas tranquilas y su cercan√≠a con el Mar de Cort√©s. Elige una ruta para comenzar.</p>
      <div class="states-list">
        <div class="option-card primary-card" id="goToMalecon">Malec√≥n de La Paz</div>
        <div class="option-card primary-card" id="goToCentro">Centro Hist√≥rico</div>
        <div class="option-card primary-card">Playa El Coromuel</div>
        <div class="option-card primary-card">Playa Balandra</div>
      </div>
      <button class="link2" id="backToLaPazZonasFromCiudad">Volver</button>
    </div>
  </div>

  <!-- RUTA - MALEC√ìN DE LA PAZ -->
  <div id="maleconLaPazRuta" class="screen">
    <!-- iOS Permission Overlay -->
    <div id="iosPermissionOverlay" class="ios-permission-overlay" style="display: none;">
      <div class="permission-content">
        <div class="permission-icon">üì±</div>
        <h2>Vista 360¬∞</h2>
        <p>Para una experiencia inmersiva, necesitamos acceso a los sensores de movimiento de tu dispositivo.</p>
        <p><small>Esto permite que el video gire seg√∫n muevas tu tel√©fono.</small></p>
        <button id="enableMotion" class="primary motion-btn">
          Activar vista 360¬∞
        </button>
        <button id="skipMotion" class="link motion-skip">
          Continuar sin 360¬∞
        </button>
      </div>
    </div>
    
    <div id="tapToStart" class="tap-overlay">
      <div class="tap-content">
        <h2>Toque para comenzar</h2>
        <p>Deslice el control de velocidad para iniciar la experiencia</p>
      </div>
    </div>
    
    <div class="game-hud">
      <div class="hud-item">
        <span id="stepsValue">0</span>
        <small>Pasos</small>
      </div>
      <div class="hud-item">
        <span id="distanceValue">0.00</span>
        <small>Km</small>
      </div>
    </div>
    
    <div class="mini-map">
      <div id="minileafletMap"></div>
      <button class="map-close">√ó</button>
    </div>
    
    <div class="video-container">
      <a-scene embedded vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
        <a-assets>
          <video id="malecon360" muted playsinline webkit-playsinline preload="auto" crossorigin="anonymous"></video>
        </a-assets>
        <a-camera look-controls="enabled: true" touch-enabled="true" mouse-enabled="true"></a-camera>
        <a-videosphere id="videoSphere" rotation="0 -90 0"></a-videosphere>
      </a-scene>
    </div>
    
    <div class="route-controls">
      <button class="control-btn" id="startRoute">Iniciar</button>
      <button class="control-btn" id="pauseRoute">Pausar</button>
      <button class="control-btn danger" id="endRoute">Finalizar</button>
    </div>
    
    <div class="speed-control">
      <label for="speedRange">Velocidad: <span id="speedValue">0</span> km/h</label>
      <input type="range" id="speedRange" min="0" max="6" step="0.5" value="0"/>
    </div>
  </div>

  <!-- RUTA FINALIZADA -->
  <div id="routeFinish" class="screen">
    <div class="finish-container">
      <h1 class="finish-title">üèÖ ¬°Ruta completada!</h1>
      <p class="finish-subtitle" id="finishSubtitle">Has finalizado tu recorrido.</p>
      <div class="route-map">
        <div id="leafletMap"></div>
      </div>
      <div class="route-summary">
        <h3>Resumen del recorrido</h3>
        <div class="summary-row">
          <span>‚è±Ô∏è Tiempo</span>
          <strong id="finishTime">00:00</strong>
        </div>
        <div class="summary-row">
          <span>ü•æ Pasos</span>
          <strong id="finishSteps">0</strong>
        </div>
        <div class="summary-row">
          <span>üìè Distancia</span>
          <strong id="finishDistance">0.00 km</strong>
        </div>
        <div class="summary-row">
          <span>üìç Ruta</span>
          <strong id="finishRouteName">Malec√≥n de La Paz</strong>
        </div>
      </div>
      <div class="route-summary achievement">
        <h3>üèÜ Logro desbloqueado</h3>
        <strong id="achievementTitle"></strong>
        <p id="achievementDesc"></p>
      </div>
      <div class="final-actions">
        <button class="primary" id="backToRoutes">Volver a rutas</button>
        <button class="primary" id="repeatRoute">Repetir recorrido</button>
      </div>
    </div>
  </div>

  <!-- RUTAS - TODOS SANTOS -->
  <div id="todosSantosRutas" class="screen">
    <div class="home-container">
      <h1>Todos Santos</h1>
      <p>Todos Santos es un Pueblo M√°gico de Baja California Sur, reconocido por su arte, arquitectura hist√≥rica y cercan√≠a con el oc√©ano Pac√≠fico. Elige una ruta para comenzar.</p>
      <div class="states-list">
        <div class="option-card primary-card">Centro Hist√≥rico</div>
        <div class="option-card primary-card">Galer√≠as de Arte</div>
        <div class="option-card primary-card">Playa Cerritos</div>
        <div class="option-card primary-card">Playa San Pedrito</div>
      </div>
      <button class="link2" id="backToLaPazZonasFromTodosSantos">Volver</button>
    </div>
  </div>

  <!-- LOS CABOS -->
  <div id="losCabos" class="screen">
    <div class="home-container">
      <h1>Los Cabos</h1>
      <p>Los Cabos es un municipio √∫nico de Baja California Sur, conformado por dos zonas principales. Cada una ofrece experiencias distintas entre naturaleza, cultura y mar. Elige d√≥nde deseas explorar.</p>
      <div class="states-list">
        <div class="option-card primary-card">Cabo San Lucas</div>
        <div class="option-card primary-card">San Jos√© del Cabo</div>
      </div>
      <button class="link2" id="backToBCSFromLosCabos">Volver</button>
    </div>
  </div>

  <!-- RUTAS - CABO SAN LUCAS -->
  <div id="caboSanLucasRutas" class="screen">
    <div class="home-container">
      <h1>Cabo San Lucas</h1>
      <p>Cabo San Lucas es conocido por sus playas, su marina, el Arco y su ambiente tur√≠stico. Elige una ruta para comenzar a explorar.</p>
      <div class="states-list">
        <div class="option-card primary-card">El Arco de Cabo San Lucas</div>
        <div class="option-card primary-card">Playa del Amor</div>
        <div class="option-card primary-card">Marina Cabo San Lucas</div>
        <div class="option-card primary-card">Playa M√©dano</div>
        <div class="option-card primary-card">Centro Tur√≠stico</div>
      </div>
      <button class="link2" id="backToLosCabosFromCSL">Volver</button>
    </div>
  </div>

  <!-- RUTAS - SAN JOS√â DEL CABO -->
  <div id="sanJoseDelCaboRutas" class="screen">
    <div class="home-container">
      <h1>San Jos√© del Cabo</h1>
      <p>San Jos√© del Cabo destaca por su centro hist√≥rico, galer√≠as de arte y playas tranquilas. Elige una ruta para comenzar.</p>
      <div class="states-list">
        <div class="option-card primary-card">Centro Hist√≥rico</div>
        <div class="option-card primary-card">Distrito del Arte</div>
        <div class="option-card primary-card">Playa Palmilla</div>
        <div class="option-card primary-card">Playa Costa Azul</div>
        <div class="option-card primary-card">Estero San Jos√©</div>
      </div>
      <button class="link2" id="backToLosCabosFromSJC">Volver</button>
    </div>
  </div>

  <!-- COMOND√ö RUTAS -->
  <div id="comonduRutas" class="screen">
    <div class="home-container">
      <h1>Comond√∫</h1>
      <p>Explora las rutas disponibles en Comond√∫, Baja California Sur.</p>
      <div class="states-list">
        <div class="option-card primary-card">Ciudad Constituci√≥n</div>
        <div class="option-card primary-card">Puerto Adolfo L√≥pez Mateos</div>
        <div class="option-card primary-card">Misi√≥n de San Jos√© de Comond√∫</div>
      </div>
      <button class="link2" id="backToBCSFromComondu">Volver</button>
    </div>
  </div>

  <!-- LORETO RUTAS -->
  <div id="loretoRutas" class="screen">
    <div class="home-container">
      <h1>Loreto</h1>
      <p>Explora las rutas disponibles en Loreto, Baja California Sur.</p>
      <div class="states-list">
        <div class="option-card primary-card">Centro Hist√≥rico de Loreto</div>
        <div class="option-card primary-card">Malec√≥n de Loreto</div>
        <div class="option-card primary-card">Misi√≥n de Loreto</div>
      </div>
      <button class="link2" id="backToBCSFromLoreto">Volver</button>
    </div>
  </div>

  <!-- MULEG√â RUTAS -->
  <div id="mulegeRutas" class="screen">
    <div class="home-container">
      <h1>Muleg√©</h1>
      <p>Explora las rutas disponibles en Muleg√©, Baja California Sur.</p>
      <div class="states-list">
        <div class="option-card primary-card">Santa Rosal√≠a</div>
        <div class="option-card primary-card">Bah√≠a Concepci√≥n</div>
        <div class="option-card primary-card">Misi√≥n de Santa Rosal√≠a</div>
      </div>
      <button class="link2" id="backToBCSFromMulege">Volver</button>
    </div>
  </div>

  <!-- LOS DEM√ÅS ESTADOS (solo agregu√© los necesarios para el ejemplo, puedes agregar los dem√°s) -->
  <div id="campeche" class="screen">
    <div class="home-container">
      <h1>Campeche</h1>
      <p>El estado de Campeche est√° formado por 13 municipios. Elige uno para continuar.</p>
      <div class="states-list">
        <div class="option-card primary-card">Campeche</div>
        <div class="option-card primary-card">Calkin√≠</div>
        <div class="option-card primary-card">Calakmul</div>
        <!-- ... resto de municipios ... -->
      </div>
      <button class="link2" id="backToStatesFromCampeche">Volver</button>
    </div>
  </div>

  <!-- Agrega aqu√≠ los dem√°s estados de manera similar -->

  <script src="app.js"></script>
</body>
</html>